2025-12-30 09:00:23.028 [main] INFO  c.p.p.PaymentSwitchApplication - Starting PaymentSwitchApplication using Java 21.0.9 with PID 16785 (/home/chauhan-tejas/Documents/Applications/SpringProjects/payment-switch/target/classes started by chauhan-tejas in /home/chauhan-tejas/Documents/Applications/SpringProjects/payment-switch)
2025-12-30 09:00:23.034 [main] DEBUG c.p.p.PaymentSwitchApplication - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-12-30 09:00:23.035 [main] INFO  c.p.p.PaymentSwitchApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-30 09:00:23.826 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-30 09:00:23.836 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-30 09:00:24.322 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-12-30 09:00:24.346 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-30 09:00:24.347 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-12-30 09:00:24.408 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 1304 ms
2025-12-30 09:00:25.220 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-30 09:00:25.221 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'payment-switch.errorChannel' has 1 subscriber(s).
2025-12-30 09:00:25.221 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-12-30 09:00:25.226 [main] INFO  o.s.i.i.t.c.TcpNetServerConnectionFactory - started bean 'serverConnectionFactory'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.connection.AbstractServerConnectionFactory com.paymentswitch.payment_switch.config.TcpServerConfig.serverConnectionFactory()', port=8583
2025-12-30 09:00:25.226 [pool-2-thread-1] INFO  o.s.i.i.t.c.TcpNetServerConnectionFactory - bean 'serverConnectionFactory'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.connection.AbstractServerConnectionFactory com.paymentswitch.payment_switch.config.TcpServerConfig.serverConnectionFactory()', port=8583 Listening
2025-12-30 09:00:25.226 [main] INFO  o.s.i.i.t.c.TcpNetServerConnectionFactory - started bean 'serverConnectionFactory'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.connection.AbstractServerConnectionFactory com.paymentswitch.payment_switch.config.TcpServerConfig.serverConnectionFactory()', port=8583
2025-12-30 09:00:25.226 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:tcpOutboundAdapter.serviceActivator} as a subscriber to the 'outboundChannel' channel
2025-12-30 09:00:25.226 [main] INFO  o.s.i.channel.DirectChannel - Channel 'payment-switch.outboundChannel' has 1 subscriber(s).
2025-12-30 09:00:25.226 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean 'tcpOutboundAdapter.serviceActivator'
2025-12-30 09:00:25.226 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {service-activator:isoMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'inboundChannel' channel
2025-12-30 09:00:25.226 [main] INFO  o.s.i.channel.DirectChannel - Channel 'payment-switch.inboundChannel' has 1 subscriber(s).
2025-12-30 09:00:25.226 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean 'isoMessageHandler.handleMessage.serviceActivator'
2025-12-30 09:00:25.227 [main] INFO  o.s.i.i.t.c.TcpNetServerConnectionFactory - started bean 'serverConnectionFactory'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.connection.AbstractServerConnectionFactory com.paymentswitch.payment_switch.config.TcpServerConfig.serverConnectionFactory()', port=8583
2025-12-30 09:00:25.227 [main] INFO  o.s.i.i.t.i.TcpReceivingChannelAdapter - started bean 'tcpInboundAdapter'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.inbound.TcpReceivingChannelAdapter com.paymentswitch.payment_switch.config.TcpServerConfig.tcpInboundAdapter()'
2025-12-30 09:00:25.247 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-12-30 09:00:25.257 [main] INFO  c.p.p.PaymentSwitchApplication - Started PaymentSwitchApplication in 3.049 seconds (process running for 3.627)
2025-12-30 09:00:29.400 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Received message: 128 bytes
2025-12-30 09:00:29.413 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Raw message: 303230303732323030303031303041303030303031363431313131313131313131313131313133313030303030303030303030303030303031323330303930303239343239333330303631323334353641544D3030303031546573742061746D206C6F636174696F6E20313233206D61696E2073742020202020202020202020
2025-12-30 09:00:29.416 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Parsed ISO Message - MTI: 0200, STAN: 429330
2025-12-30 09:00:29.417 [pool-2-thread-2] INFO  c.p.p.validator.IsoMessageValidator - Validation passed for STAN: 429330
2025-12-30 09:00:29.431 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Transforming ISO message to TransactionRequest
2025-12-30 09:00:29.435 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Routing transaction - type Balance Inquiry, STAN: 429330, Amount: 0
2025-12-30 09:00:29.438 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Processing Balance Inquiry with code: 310000
2025-12-30 09:00:29.438 [pool-2-thread-2] INFO  c.p.p.service.BankSimlatorService - Bank: Processing Balance Inquiry for PAN: 411111******1111
2025-12-30 09:00:29.444 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Transaction processed - STAN: 429330, Response Code: 00
2025-12-30 09:00:29.445 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Trasforming transactionResponse to ISO message
2025-12-30 09:00:29.446 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Response sent - 121 bytes, Processing time: 46 ms
2025-12-30 09:00:29.446 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Response ISO: 30323130373232303030303130363031303030303136343131313131313131313131313131313331303030303030303030303030303030303132333030393030323934323933333030363132333435363739393438363030303330415641494C3A32353030302E30307C4C45444745523A32353530302E3030
2025-12-30 09:00:30.459 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Received message: 128 bytes
2025-12-30 09:00:30.459 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Raw message: 303230303732323030303031303041303030303031363431313131313131313131313131313130313030303030303030303030313030303031323330303930303330343330343535303631323334353641544D3030303031546573742061746D206C6F636174696F6E20313233206D61696E2073742020202020202020202020
2025-12-30 09:00:30.460 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Parsed ISO Message - MTI: 0200, STAN: 430455
2025-12-30 09:00:30.460 [pool-2-thread-2] INFO  c.p.p.validator.IsoMessageValidator - Validation passed for STAN: 430455
2025-12-30 09:00:30.461 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Transforming ISO message to TransactionRequest
2025-12-30 09:00:30.461 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Routing transaction - type Withdrawal, STAN: 430455, Amount: 100
2025-12-30 09:00:30.462 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Processing withdrawal - code: 010000, Amount: 100
2025-12-30 09:00:30.462 [pool-2-thread-2] INFO  c.p.p.service.BankSimlatorService - Bank: Processing Withdrawal for amount: 100
2025-12-30 09:00:30.462 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Transaction processed - STAN: 430455, Response Code: 00
2025-12-30 09:00:30.463 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Trasforming transactionResponse to ISO message
2025-12-30 09:00:30.463 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Response sent - 88 bytes, Processing time: 4 ms
2025-12-30 09:00:30.463 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Response ISO: 30323130373232303030303130363030303030303136343131313131313131313131313131313031303030303030303030303031303030303132333030393030333034333034353530363132333435363536383836333030
2025-12-30 09:00:31.468 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Received message: 128 bytes
2025-12-30 09:00:31.469 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Raw message: 303230303732323030303031303041303030303031363431313131313131313131313131313130303030303030303030303030323530303031323330303930303331343331343636303631323334353641544D3030303031546573742061746D206C6F636174696F6E20313233206D61696E2073742020202020202020202020
2025-12-30 09:00:31.469 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Parsed ISO Message - MTI: 0200, STAN: 431466
2025-12-30 09:00:31.470 [pool-2-thread-2] INFO  c.p.p.validator.IsoMessageValidator - Validation passed for STAN: 431466
2025-12-30 09:00:31.471 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Transforming ISO message to TransactionRequest
2025-12-30 09:00:31.472 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Routing transaction - type Purchase, STAN: 431466, Amount: 250
2025-12-30 09:00:31.472 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Processing Purchase - code: 000000, Amont 250
2025-12-30 09:00:31.472 [pool-2-thread-2] INFO  c.p.p.service.BankSimlatorService - Bank: Processing Purchase for amount: 250
2025-12-30 09:00:31.473 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Transaction processed - STAN: 431466, Response Code: 00
2025-12-30 09:00:31.473 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Trasforming transactionResponse to ISO message
2025-12-30 09:00:31.473 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Response sent - 88 bytes, Processing time: 5 ms
2025-12-30 09:00:31.473 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Response ISO: 30323130373232303030303130363030303030303136343131313131313131313131313131313030303030303030303030303032353030303132333030393030333134333134363630363132333435363330383531363030
2025-12-30 09:00:45.091 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Received message: 128 bytes
2025-12-30 09:00:45.092 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Raw message: 303230303732323030303031303041303030303031363431313131313131313131313131313133313030303030303030303030303030303031323330303930303435343435303238303631323334353641544D3030303031546573742061746D206C6F636174696F6E20313233206D61696E2073742020202020202020202020
2025-12-30 09:00:45.092 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Parsed ISO Message - MTI: 0200, STAN: 445028
2025-12-30 09:00:45.093 [pool-2-thread-2] INFO  c.p.p.validator.IsoMessageValidator - Validation passed for STAN: 445028
2025-12-30 09:00:45.093 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Transforming ISO message to TransactionRequest
2025-12-30 09:00:45.093 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Routing transaction - type Balance Inquiry, STAN: 445028, Amount: 0
2025-12-30 09:00:45.093 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Processing Balance Inquiry with code: 310000
2025-12-30 09:00:45.094 [pool-2-thread-2] INFO  c.p.p.service.BankSimlatorService - Bank: Processing Balance Inquiry for PAN: 411111******1111
2025-12-30 09:00:45.095 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Transaction processed - STAN: 445028, Response Code: 00
2025-12-30 09:00:45.095 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Trasforming transactionResponse to ISO message
2025-12-30 09:00:45.096 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Response sent - 121 bytes, Processing time: 5 ms
2025-12-30 09:00:45.097 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Response ISO: 30323130373232303030303130363031303030303136343131313131313131313131313131313331303030303030303030303030303030303132333030393030343534343530323830363132333435363638303136313030303330415641494C3A32353030302E30307C4C45444745523A32353530302E3030
2025-12-30 09:00:46.119 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Received message: 128 bytes
2025-12-30 09:00:46.119 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Raw message: 303230303732323030303031303041303030303031363431313131313131313131313131313130313030303030303030303030313030303031323330303930303436343436313136303631323334353641544D3030303031546573742061746D206C6F636174696F6E20313233206D61696E2073742020202020202020202020
2025-12-30 09:00:46.119 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Parsed ISO Message - MTI: 0200, STAN: 446116
2025-12-30 09:00:46.119 [pool-2-thread-2] INFO  c.p.p.validator.IsoMessageValidator - Validation passed for STAN: 446116
2025-12-30 09:00:46.119 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Transforming ISO message to TransactionRequest
2025-12-30 09:00:46.120 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Routing transaction - type Withdrawal, STAN: 446116, Amount: 100
2025-12-30 09:00:46.120 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Processing withdrawal - code: 010000, Amount: 100
2025-12-30 09:00:46.120 [pool-2-thread-2] INFO  c.p.p.service.BankSimlatorService - Bank: Processing Withdrawal for amount: 100
2025-12-30 09:00:46.120 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Transaction processed - STAN: 446116, Response Code: 00
2025-12-30 09:00:46.120 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Trasforming transactionResponse to ISO message
2025-12-30 09:00:46.121 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Response sent - 88 bytes, Processing time: 2 ms
2025-12-30 09:00:46.121 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Response ISO: 30323130373232303030303130363030303030303136343131313131313131313131313131313031303030303030303030303031303030303132333030393030343634343631313630363132333435363332393438353030
2025-12-30 09:00:47.126 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Received message: 128 bytes
2025-12-30 09:00:47.127 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Raw message: 303230303732323030303031303041303030303031363431313131313131313131313131313130303030303030303030303030323530303031323330303930303437343437313233303631323334353641544D3030303031546573742061746D206C6F636174696F6E20313233206D61696E2073742020202020202020202020
2025-12-30 09:00:47.127 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Parsed ISO Message - MTI: 0200, STAN: 447123
2025-12-30 09:00:47.127 [pool-2-thread-2] INFO  c.p.p.validator.IsoMessageValidator - Validation passed for STAN: 447123
2025-12-30 09:00:47.127 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Transforming ISO message to TransactionRequest
2025-12-30 09:00:47.128 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Routing transaction - type Purchase, STAN: 447123, Amount: 250
2025-12-30 09:00:47.128 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Processing Purchase - code: 000000, Amont 250
2025-12-30 09:00:47.128 [pool-2-thread-2] INFO  c.p.p.service.BankSimlatorService - Bank: Processing Purchase for amount: 250
2025-12-30 09:00:47.128 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Transaction processed - STAN: 447123, Response Code: 00
2025-12-30 09:00:47.129 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Trasforming transactionResponse to ISO message
2025-12-30 09:00:47.129 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Response sent - 88 bytes, Processing time: 3 ms
2025-12-30 09:00:47.129 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Response ISO: 30323130373232303030303130363030303030303136343131313131313131313131313131313030303030303030303030303032353030303132333030393030343734343731323330363132333435363436333839383030
2025-12-30 10:20:14.906 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-30 10:20:14.909 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-30 10:20:14.912 [SpringApplicationShutdownHook] INFO  o.s.i.i.t.c.TcpNetServerConnectionFactory - stopped bean 'serverConnectionFactory'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.connection.AbstractServerConnectionFactory com.paymentswitch.payment_switch.config.TcpServerConfig.serverConnectionFactory()', port=8583
2025-12-30 10:20:14.912 [SpringApplicationShutdownHook] INFO  o.s.i.i.t.i.TcpReceivingChannelAdapter - stopped bean 'tcpInboundAdapter'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.inbound.TcpReceivingChannelAdapter com.paymentswitch.payment_switch.config.TcpServerConfig.tcpInboundAdapter()'
2025-12-30 10:20:14.913 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:tcpOutboundAdapter.serviceActivator} as a subscriber to the 'outboundChannel' channel
2025-12-30 10:20:14.913 [SpringApplicationShutdownHook] INFO  o.s.i.channel.DirectChannel - Channel 'payment-switch.outboundChannel' has 0 subscriber(s).
2025-12-30 10:20:14.913 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean 'tcpOutboundAdapter.serviceActivator'
2025-12-30 10:20:14.913 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {service-activator:isoMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'inboundChannel' channel
2025-12-30 10:20:14.913 [SpringApplicationShutdownHook] INFO  o.s.i.channel.DirectChannel - Channel 'payment-switch.inboundChannel' has 0 subscriber(s).
2025-12-30 10:20:14.913 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean 'isoMessageHandler.handleMessage.serviceActivator'
2025-12-30 10:20:14.913 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-30 10:20:14.913 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'payment-switch.errorChannel' has 0 subscriber(s).
2025-12-30 10:20:14.913 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-12-30 10:40:51.608 [main] INFO  c.p.p.PaymentSwitchApplication - Starting PaymentSwitchApplication using Java 21.0.9 with PID 39522 (/home/chauhan-tejas/Documents/Applications/SpringProjects/payment-switch/target/classes started by chauhan-tejas in /home/chauhan-tejas/Documents/Applications/SpringProjects/payment-switch)
2025-12-30 10:40:51.610 [main] DEBUG c.p.p.PaymentSwitchApplication - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-12-30 10:40:51.611 [main] INFO  c.p.p.PaymentSwitchApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-30 10:40:52.491 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-30 10:40:52.527 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-30 10:40:53.086 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-12-30 10:40:53.096 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-30 10:40:53.097 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.14]
2025-12-30 10:40:53.138 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 1461 ms
2025-12-30 10:40:53.699 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-30 10:40:53.699 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'payment-switch.errorChannel' has 1 subscriber(s).
2025-12-30 10:40:53.700 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-12-30 10:40:53.702 [main] INFO  o.s.i.i.t.c.TcpNetServerConnectionFactory - started bean 'serverConnectionFactory'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.connection.AbstractServerConnectionFactory com.paymentswitch.payment_switch.config.TcpServerConfig.serverConnectionFactory()', port=8583
2025-12-30 10:40:53.702 [main] INFO  o.s.i.i.t.c.TcpNetServerConnectionFactory - started bean 'serverConnectionFactory'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.connection.AbstractServerConnectionFactory com.paymentswitch.payment_switch.config.TcpServerConfig.serverConnectionFactory()', port=8583
2025-12-30 10:40:53.702 [pool-2-thread-1] INFO  o.s.i.i.t.c.TcpNetServerConnectionFactory - bean 'serverConnectionFactory'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.connection.AbstractServerConnectionFactory com.paymentswitch.payment_switch.config.TcpServerConfig.serverConnectionFactory()', port=8583 Listening
2025-12-30 10:40:53.702 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:tcpOutboundAdapter.serviceActivator} as a subscriber to the 'outboundChannel' channel
2025-12-30 10:40:53.702 [main] INFO  o.s.i.channel.DirectChannel - Channel 'payment-switch.outboundChannel' has 1 subscriber(s).
2025-12-30 10:40:53.702 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean 'tcpOutboundAdapter.serviceActivator'
2025-12-30 10:40:53.702 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {service-activator:isoMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'inboundChannel' channel
2025-12-30 10:40:53.702 [main] INFO  o.s.i.channel.DirectChannel - Channel 'payment-switch.inboundChannel' has 1 subscriber(s).
2025-12-30 10:40:53.702 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started bean 'isoMessageHandler.handleMessage.serviceActivator'
2025-12-30 10:40:53.703 [main] INFO  o.s.i.i.t.c.TcpNetServerConnectionFactory - started bean 'serverConnectionFactory'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.connection.AbstractServerConnectionFactory com.paymentswitch.payment_switch.config.TcpServerConfig.serverConnectionFactory()', port=8583
2025-12-30 10:40:53.703 [main] INFO  o.s.i.i.t.i.TcpReceivingChannelAdapter - started bean 'tcpInboundAdapter'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.inbound.TcpReceivingChannelAdapter com.paymentswitch.payment_switch.config.TcpServerConfig.tcpInboundAdapter()'
2025-12-30 10:40:53.714 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-12-30 10:40:53.719 [main] INFO  c.p.p.PaymentSwitchApplication - Started PaymentSwitchApplication in 2.699 seconds (process running for 3.084)
2025-12-30 10:40:57.573 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Received message: 128 bytes
2025-12-30 10:40:57.581 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Raw message: 303230303732323030303031303041303030303031363431313131313131313131313131313133313030303030303030303030303030303031323330313034303537343537353233303631323334353641544D3030303031546573742061746D206C6F636174696F6E20313233206D61696E2073742020202020202020202020
2025-12-30 10:40:57.581 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - header is {ip_tcp_remotePort=53454, ip_connectionId=127.0.0.1:53454:8583:65cc6e82-ef09-43ef-b41b-c3a0ab0568da, ip_localInetAddress=/127.0.0.1, ip_address=127.0.0.1, id=639fd78c-6d08-eb7d-5531-74968d7f1a71, ip_hostname=127.0.0.1, timestamp=1767071457569}
2025-12-30 10:40:57.581 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - payload is [B@49ceb71
2025-12-30 10:40:57.583 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Parsed ISO Message - MTI: 0200, STAN: 457523
2025-12-30 10:40:57.584 [pool-2-thread-2] INFO  c.p.p.validator.IsoMessageValidator - Validation passed for STAN: 457523
2025-12-30 10:40:57.592 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Transforming ISO message to TransactionRequest
2025-12-30 10:40:57.594 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Routing transaction - type Balance Inquiry, STAN: 457523, Amount: 0
2025-12-30 10:40:57.595 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Processing Balance Inquiry with code: 310000
2025-12-30 10:40:57.595 [pool-2-thread-2] INFO  c.p.p.service.BankSimlatorService - Bank: Processing Balance Inquiry for PAN: 411111******1111
2025-12-30 10:40:57.599 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Transaction processed - STAN: 457523, Response Code: 00
2025-12-30 10:40:57.599 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Trasforming transactionResponse to ISO message
2025-12-30 10:40:57.599 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Response sent - 121 bytes, Processing time: 26 ms
2025-12-30 10:40:57.600 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Response ISO: 30323130373232303030303130363031303030303136343131313131313131313131313131313331303030303030303030303030303030303132333031303430353734353735323330363132333435363330393936333030303330415641494C3A32353030302E30307C4C45444745523A32353530302E3030
2025-12-30 10:40:58.607 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Received message: 128 bytes
2025-12-30 10:40:58.607 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Raw message: 303230303732323030303031303041303030303031363431313131313131313131313131313130313030303030303030303030313030303031323330313034303538343538363034303631323334353641544D3030303031546573742061746D206C6F636174696F6E20313233206D61696E2073742020202020202020202020
2025-12-30 10:40:58.607 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - header is {ip_tcp_remotePort=53462, ip_connectionId=127.0.0.1:53462:8583:0c1757e3-f11c-4815-bca2-caa263f68b40, ip_localInetAddress=/127.0.0.1, ip_address=127.0.0.1, id=7dfc4b28-df7b-87f2-e257-6839bcae1fb8, ip_hostname=127.0.0.1, timestamp=1767071458607}
2025-12-30 10:40:58.608 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - payload is [B@302d3bb0
2025-12-30 10:40:58.608 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Parsed ISO Message - MTI: 0200, STAN: 458604
2025-12-30 10:40:58.608 [pool-2-thread-2] INFO  c.p.p.validator.IsoMessageValidator - Validation passed for STAN: 458604
2025-12-30 10:40:58.608 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Transforming ISO message to TransactionRequest
2025-12-30 10:40:58.608 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Routing transaction - type Withdrawal, STAN: 458604, Amount: 100
2025-12-30 10:40:58.609 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Processing withdrawal - code: 010000, Amount: 100
2025-12-30 10:40:58.609 [pool-2-thread-2] INFO  c.p.p.service.BankSimlatorService - Bank: Processing Withdrawal for amount: 100
2025-12-30 10:40:58.609 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Transaction processed - STAN: 458604, Response Code: 00
2025-12-30 10:40:58.609 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Trasforming transactionResponse to ISO message
2025-12-30 10:40:58.609 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Response sent - 88 bytes, Processing time: 2 ms
2025-12-30 10:40:58.609 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Response ISO: 30323130373232303030303130363030303030303136343131313131313131313131313131313031303030303030303030303031303030303132333031303430353834353836303430363132333435363935373833393030
2025-12-30 10:40:59.614 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Received message: 128 bytes
2025-12-30 10:40:59.615 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Raw message: 303230303732323030303031303041303030303031363431313131313131313131313131313130303030303030303030303030323530303031323330313034303539343539363131303631323334353641544D3030303031546573742061746D206C6F636174696F6E20313233206D61696E2073742020202020202020202020
2025-12-30 10:40:59.615 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - header is {ip_tcp_remotePort=53468, ip_connectionId=127.0.0.1:53468:8583:eb17f496-77de-4b3c-a37c-837b4d3c13f3, ip_localInetAddress=/127.0.0.1, ip_address=127.0.0.1, id=ce93991c-5aa4-5f4c-669a-70e552b45ff9, ip_hostname=127.0.0.1, timestamp=1767071459614}
2025-12-30 10:40:59.615 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - payload is [B@32f37bc7
2025-12-30 10:40:59.616 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Parsed ISO Message - MTI: 0200, STAN: 459611
2025-12-30 10:40:59.616 [pool-2-thread-2] INFO  c.p.p.validator.IsoMessageValidator - Validation passed for STAN: 459611
2025-12-30 10:40:59.616 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Transforming ISO message to TransactionRequest
2025-12-30 10:40:59.617 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Routing transaction - type Purchase, STAN: 459611, Amount: 250
2025-12-30 10:40:59.617 [pool-2-thread-2] INFO  c.p.p.router.TransactionRouter - Processing Purchase - code: 000000, Amont 250
2025-12-30 10:40:59.617 [pool-2-thread-2] INFO  c.p.p.service.BankSimlatorService - Bank: Processing Purchase for amount: 250
2025-12-30 10:40:59.617 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Transaction processed - STAN: 459611, Response Code: 00
2025-12-30 10:40:59.617 [pool-2-thread-2] DEBUG c.p.p.t.IsoMessageTransformer - Trasforming transactionResponse to ISO message
2025-12-30 10:40:59.618 [pool-2-thread-2] INFO  c.p.p.handler.IsoMessageHandler - Response sent - 88 bytes, Processing time: 4 ms
2025-12-30 10:40:59.618 [pool-2-thread-2] DEBUG c.p.p.handler.IsoMessageHandler - Response ISO: 30323130373232303030303130363030303030303136343131313131313131313131313131313030303030303030303030303032353030303132333031303430353934353936313130363132333435363436383932353030
2025-12-30 10:41:28.918 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-30 10:41:28.921 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-30 10:41:28.923 [SpringApplicationShutdownHook] INFO  o.s.i.i.t.c.TcpNetServerConnectionFactory - stopped bean 'serverConnectionFactory'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.connection.AbstractServerConnectionFactory com.paymentswitch.payment_switch.config.TcpServerConfig.serverConnectionFactory()', port=8583
2025-12-30 10:41:28.923 [SpringApplicationShutdownHook] INFO  o.s.i.i.t.i.TcpReceivingChannelAdapter - stopped bean 'tcpInboundAdapter'; defined in: 'class path resource [com/paymentswitch/payment_switch/config/TcpServerConfig.class]'; from source: 'public org.springframework.integration.ip.tcp.inbound.TcpReceivingChannelAdapter com.paymentswitch.payment_switch.config.TcpServerConfig.tcpInboundAdapter()'
2025-12-30 10:41:28.923 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:tcpOutboundAdapter.serviceActivator} as a subscriber to the 'outboundChannel' channel
2025-12-30 10:41:28.923 [SpringApplicationShutdownHook] INFO  o.s.i.channel.DirectChannel - Channel 'payment-switch.outboundChannel' has 0 subscriber(s).
2025-12-30 10:41:28.923 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean 'tcpOutboundAdapter.serviceActivator'
2025-12-30 10:41:28.923 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {service-activator:isoMessageHandler.handleMessage.serviceActivator} as a subscriber to the 'inboundChannel' channel
2025-12-30 10:41:28.923 [SpringApplicationShutdownHook] INFO  o.s.i.channel.DirectChannel - Channel 'payment-switch.inboundChannel' has 0 subscriber(s).
2025-12-30 10:41:28.923 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean 'isoMessageHandler.handleMessage.serviceActivator'
2025-12-30 10:41:28.924 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-30 10:41:28.924 [SpringApplicationShutdownHook] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'payment-switch.errorChannel' has 0 subscriber(s).
2025-12-30 10:41:28.924 [SpringApplicationShutdownHook] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
